<script setup>
defineEmits(['close']);

const printPage = () => {
  window.print();
};
</script>

<template>
  <div class="instructions-overlay no-print-bg">
    <div class="instructions-card">
      <button class="close-btn no-print" @click="$emit('close')">√ó</button>

      <div class="printable-content">
        <h1 class="print-title">Master Chef - Popis a N√°vod</h1>
        
        <section>
          <h2>Popis hry</h2>
          <p>
            Master Chef je interakt√≠vna kuch√°rska simul√°cia, kde sa hr√°ƒç st√°va ≈°√©fkuch√°rom 
            v ≈°tyroch svetov√Ωch kuchyniach. Cieƒæom je spr√°vne kombinova≈• suroviny podƒæa 
            receptov a obsluhova≈• hladn√Ωch z√°kazn√≠kov v ƒçasovom limite.
          </p>
        </section>

        <section>
          <h2>N√°vod na rie≈°enie</h2>
          <ol>
            <li><strong>V√Ωber levelu:</strong> Zvoƒæte si kuchy≈àu a konkr√©tnu √∫rove≈à.</li>
            <li><strong>Pr√≠prava:</strong> Otvorte ≈°pajzu (ü•´), pozrite si recepty (üìñ) a potiahnite spr√°vne suroviny na t√°cku.</li>
            <li><strong>Varenie:</strong> Po skompletizovan√≠ receptu kliknite na "Uvari≈•" (üõéÔ∏è).</li>
            <li><strong>Serv√≠rovanie:</strong> Po uvaren√≠ jedla, pretiahnite t√°cku s jedlom na dan√©ho z√°kazn√≠ka.</li>
          </ol>
        </section>

        <section class="mobile-instructions">
          <h2>Pokyny pre mobiln√© zariadenia üì±</h2>
          <p>
            Na mobiln√Ωch zariadeniach pou≈æ√≠vajte dlh√© podr≈æanie na surovine pre jej 
            uchopenie. Menu receptov sa ovl√°da potiahnut√≠m (swipe) do str√°n.
          </p>
        </section>

        <button class="print-btn no-print" @click="printPage">
          üñ®Ô∏è Vytlaƒçi≈• n√°vod
        </button>
      </div>
    </div>
  </div>
</template>

<style scoped>
/* ≈†t√Ωl pre obrazovku */
.instructions-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  padding: 20px;
}

.instructions-card {
  background: white;
  padding: 40px;
  border-radius: 20px;
  max-width: 600px;
  max-height: 80vh;
  overflow-y: auto;
  position: relative;
  color: #333;
  text-align: left;
}

.print-btn {
  margin-top: 20px;
  padding: 10px 20px;
  background: #4caf50;
  color: white;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-weight: bold;
}

.close-btn {
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 30px;
  border: none;
  background: none;
  cursor: pointer;
}

/* --- OPTIMALIZ√ÅCIA PRE TLAƒå --- */
@media print {
  /* Skryjeme v≈°etko okrem n√°vodu */
  :global(.menu-wrapper), 
  :global(.bg-decor), 
  :global(.menu-card), 
  :global(.game-screen),
  .no-print {
    display: none !important;
  }

  /* Uprav√≠me kontajner pre ƒçist√Ω papier */
  .instructions-overlay {
    position: static;
    background: white;
    padding: 0;
  }

  .instructions-card {
    box-shadow: none;
    border: none;
    padding: 0;
    max-height: none;
    overflow: visible;
  }

  .print-title {
    display: block;
    border-bottom: 2px solid #000;
    padding-bottom: 10px;
  }
}

/* Zobrazenie mobiln√Ωch pokynov len na mal√Ωch displejoch */
@media (min-width: 769px) {
  .mobile-instructions {
    background: #f9f9f9;
    padding: 10px;
    border-left: 4px solid #ff9800;
  }
}
</style>